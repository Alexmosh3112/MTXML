# Запрос товарного справочника

## Назначение и описание
Передается из ERP в WMS в случае, когда требуется получить описание товара из WMS.

В запросе может быть указанно количество записей с товарами, которые должны содержаться в одном ответном файле, соответственно будет сформировано нужное количество файлов. А так же может быть указан период, в который были произведены изменения элемента товарного справочника последний раз, т.е. если указать период вчерашний день, то попадут товары, которые изменились вчера и не менялись сегодня. В запросе присутствует секция с фильтром по товарам, для возможности запроса описаний конкретных товаров. Важно все фильтры действуют одновременно и при использовании товарного фильтра не желательно использование фильтра по датам изменения.

В случае если по результатам фильтров не будет найдено ни одного товара, то будет отправлен пустой отчет.

## Описание полей
Уровень | Тег | Описание | Частота | Тип данных | Размер поля | Комментарий
--------|-----|----------|---------|------------|-------------|------------
0 | ListGoodsRequest | Запрос товарного справочника | 1..1 | | |
1 | ListRequestHeader | Стандартный заголовок сообщения | 1..1  | | | Общая структура сообщения 
1 | ListGoodsRequestHeader | Заголовок запроса данных справочника товаров | 0..1 | | | 
2 | FileCapacity | Количество записей в одном ответном сообщении | 0..1 | Integer | | По умолчанию 10000 
2 | ChangeFrom | Дата изменения после указанной | 0..1 | DateTime | | 
2 | ChangeTo | Дата изменения до указанной | 0..1 | DateTime | | 
2 | GoodsItems | Фильтр по товарам | 0..1 | | | 
3 | Article | Артикул | 1..n | String | 100 |

egdgdfg3

Уровень | Тег | Описание | Частота | Тип данных | Размер поля | Комментарий
--------|-----|----------|---------|------------|-------------|------------
0 | SystemConfirmation | | 1..1 | | | 
1 | MessageID | Уникальный код полученного сообщения | 1..1 | String | 50 | Код сообщения в ответе совпадает с кодом полученного сообщения
1 | CustomerCode | Код клиента | 1..1 | String | 20 | 
1 | ProjectCode | Код проекта | 1..1 | String | 20 | 
1 | StockCode | Код склада | 1..1 | String | 20 | 
1 | TypeStatus | Тип статуса | 1..1 | String | 20 | TRANSFER – сообщение поступило в EBS<br />LOAD – сообщение обработано в WMS
1 | Status | Статус обработки сообщения | 1..1 | String | 20 | OK – Сообщение успешно обработано в WMS<br />ERROR – Возникла ошибка при обработке в WMS
1 | Description | Подробное описание ошибки | 1..1 | String | 250 | 
1 | Timestamp | Дата и время формирования сообщения | 1..1 | DateTime | | 

## Описание схемы
<a href="/XSD/MT_ListGoodsRequest.xsd" rel="XSD">![Foo](https://user-images.githubusercontent.com/22858622/134012526-73d1b128-a2cd-4d14-8a13-10f81a57c04f.png)</a>

## Пример XML
```
<ListGoodsRequest xmlns="http://MT.BTS.DataExchange.MT_ListGoodsRequest">
  <ListRequestHeader>
    <MessageID>C9D25213-ECCC-4410-ADF2-E48D68685D36</MessageID>
    <CustomerCode>К00000</CustomerCode>
    <ProjectCode>MAJOR</ProjectCode>
    <StockCode>ISTRA</StockCode>
  </ListRequestHeader>
  <ListGoodsRequestHeader>
    <FileCapacity>1000</FileCapacity>
    <ChangeFrom>2020-05-31 00:00:00.000</ChangeFrom>
    <ChangeTo>2020-07-17 00:00:00.000</ChangeTo>
  </ListGoodsRequestHeader>
  <GoodsItems>
    <Article>7281</Article>
    <Article>7282</Article>
  </GoodsItems>
</ListGoodsRequest>
```
